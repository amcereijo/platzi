{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport fetch from 'isomorphic-unfetch';\nimport Link from 'next/link';\nimport { Header, Button } from 'semantic-ui-react';\nimport Layout from '@components/Layout/Layout';\n\nconst fetchResult = async () => {\n  const res = await fetch('https://platzi-avo.vercel.app/api/yes-or-no');\n  const {\n    data\n  } = await res.json();\n  return data;\n};\n\nexport async function getServerSideProps() {\n  const initialResult = await fetchResult();\n  return {\n    props: {\n      initialResult\n    }\n  };\n}\n\nconst YesOrNo = ({\n  initialResult\n}) => {\n  const {\n    0: isLoading,\n    1: setIsLoading\n  } = useState(false);\n  const {\n    0: result,\n    1: setResult\n  } = useState(initialResult);\n  const {\n    0: triggerCount,\n    1: setTriggerCount\n  } = useState(0);\n  useEffect(() => {\n    setIsLoading(true);\n    fetchResult().then(initialResult => {\n      setResult(initialResult);\n      setIsLoading(false);\n    });\n  }, [triggerCount]);\n\n  const onClick = async () => {\n    setTriggerCount(triggerCount + 1);\n  };\n\n  return __jsx(Layout, null, __jsx(\"div\", {\n    className: \"jsx-3588775597\"\n  }, __jsx(Header, {\n    as: \"h1\",\n    color: isLoading ? 'grey' : 'green'\n  }, result), __jsx(\"p\", {\n    className: \"jsx-3588775597\"\n  }, __jsx(Button, {\n    color: \"green\",\n    onClick: onClick,\n    loading: isLoading,\n    disabled: isLoading\n  }, \"Intentar de nuevo\")), __jsx(\"p\", {\n    className: \"jsx-3588775597\"\n  }, __jsx(Link, {\n    href: \"/\"\n  }, __jsx(\"a\", {\n    className: \"jsx-3588775597\" + \" \" + \"ui black button basic\"\n  }, \"Volver al inicio\")))), __jsx(_JSXStyle, {\n    id: \"3588775597\"\n  }, [\"div.jsx-3588775597{text-align:center;}\", \"div.jsx-3588775597 h1.header{font-size:7rem;text-transform:uppercase;}\"]));\n};\n\nexport default YesOrNo;","map":null,"metadata":{},"sourceType":"module"}