{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport fetch from 'isomorphic-unfetch';\nimport Link from 'next/link';\nimport { Header, Button } from 'semantic-ui-react';\nimport Layout from '@components/Layout/Layout';\n\nvar fetchResult = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var res, _yield$res$json, data;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return fetch('https://platzi-avo.vercel.app/api/yes-or-no');\n\n          case 2:\n            res = _context.sent;\n            _context.next = 5;\n            return res.json();\n\n          case 5:\n            _yield$res$json = _context.sent;\n            data = _yield$res$json.data;\n            return _context.abrupt(\"return\", data);\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function fetchResult() {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar YesOrNo = function YesOrNo(_ref2) {\n  var initialResult = _ref2.initialResult;\n\n  var _useState = useState(false),\n      isLoading = _useState[0],\n      setIsLoading = _useState[1];\n\n  var _useState2 = useState(initialResult),\n      result = _useState2[0],\n      setResult = _useState2[1];\n\n  var _useState3 = useState(0),\n      triggerCount = _useState3[0],\n      setTriggerCount = _useState3[1];\n\n  useEffect(function () {\n    setIsLoading(true);\n    fetchResult().then(function (initialResult) {\n      setResult(initialResult);\n      setIsLoading(false);\n    });\n  }, [triggerCount]);\n\n  var onClick = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setTriggerCount(triggerCount + 1);\n\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function onClick() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(Layout, null, __jsx(\"div\", {\n    className: \"jsx-3588775597\"\n  }, __jsx(Header, {\n    as: \"h1\",\n    color: isLoading ? 'grey' : 'green'\n  }, result), __jsx(\"p\", {\n    className: \"jsx-3588775597\"\n  }, __jsx(Button, {\n    color: \"green\",\n    onClick: onClick,\n    loading: isLoading,\n    disabled: isLoading\n  }, \"Intentar de nuevo\")), __jsx(\"p\", {\n    className: \"jsx-3588775597\"\n  }, __jsx(Link, {\n    href: \"/\"\n  }, __jsx(\"a\", {\n    className: \"jsx-3588775597\" + \" \" + \"ui black button basic\"\n  }, \"Volver al inicio\")))), __jsx(_JSXStyle, {\n    id: \"3588775597\"\n  }, [\"div.jsx-3588775597{text-align:center;}\", \"div.jsx-3588775597 h1.header{font-size:7rem;text-transform:uppercase;}\"]));\n};\n\nexport var __N_SSP = true;\nexport default YesOrNo;","map":null,"metadata":{},"sourceType":"module"}