{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/amcereijo/Documents/git/platzi/next_js_ts/pages/yes-or-no.tsx\",\n    _s = $RefreshSig$();\n\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport fetch from 'isomorphic-unfetch';\nimport Link from 'next/link';\nimport { Header, Button } from 'semantic-ui-react';\nimport Layout from '@components/Layout/Layout';\n\nvar fetchResult = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var res, _yield$res$json, data;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return fetch('https://platzi-avo.vercel.app/api/yes-or-no');\n\n          case 2:\n            res = _context.sent;\n            _context.next = 5;\n            return res.json();\n\n          case 5:\n            _yield$res$json = _context.sent;\n            data = _yield$res$json.data;\n            return _context.abrupt(\"return\", data);\n\n          case 8:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function fetchResult() {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nvar YesOrNo = function YesOrNo(_ref2) {\n  _s();\n\n  var initialResult = _ref2.initialResult;\n\n  var _useState = useState(false),\n      isLoading = _useState[0],\n      setIsLoading = _useState[1];\n\n  var _useState2 = useState(initialResult),\n      result = _useState2[0],\n      setResult = _useState2[1];\n\n  var _useState3 = useState(0),\n      triggerCount = _useState3[0],\n      setTriggerCount = _useState3[1];\n\n  useEffect(function () {\n    setIsLoading(true);\n    fetchResult().then(function (initialResult) {\n      setResult(initialResult);\n      setIsLoading(false);\n    });\n  }, [triggerCount]);\n\n  var onClick = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              setTriggerCount(triggerCount + 1);\n\n            case 1:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function onClick() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(Layout, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: \"jsx-3588775597\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, __jsx(Header, {\n    as: \"h1\",\n    color: isLoading ? 'grey' : 'green',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, result), __jsx(\"p\", {\n    className: \"jsx-3588775597\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, __jsx(Button, {\n    color: \"green\",\n    onClick: onClick,\n    loading: isLoading,\n    disabled: isLoading,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }, \"Intentar de nuevo\")), __jsx(\"p\", {\n    className: \"jsx-3588775597\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, __jsx(Link, {\n    href: \"/\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }, __jsx(\"a\", {\n    className: \"jsx-3588775597\" + \" \" + \"ui black button basic\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }, \"Volver al inicio\")))), __jsx(_JSXStyle, {\n    id: \"3588775597\",\n    __self: _this\n  }, \"div.jsx-3588775597{text-align:center;}div.jsx-3588775597 h1.header{font-size:7rem;text-transform:uppercase;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbWNlcmVpam8vRG9jdW1lbnRzL2dpdC9wbGF0emkvbmV4dF9qc190cy9wYWdlcy95ZXMtb3Itbm8udHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXFFa0IsQUFHNkIsQUFHSCxlQUNVLEdBSDNCLHNCQUlBIiwiZmlsZSI6Ii9Vc2Vycy9hbWNlcmVpam8vRG9jdW1lbnRzL2dpdC9wbGF0emkvbmV4dF9qc190cy9wYWdlcy95ZXMtb3Itbm8udHN4Iiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcbmltcG9ydCBmZXRjaCBmcm9tICdpc29tb3JwaGljLXVuZmV0Y2gnXG5pbXBvcnQgTGluayBmcm9tICduZXh0L2xpbmsnXG5cbmltcG9ydCB7IEhlYWRlciwgQnV0dG9uIH0gZnJvbSAnc2VtYW50aWMtdWktcmVhY3QnXG5pbXBvcnQgTGF5b3V0IGZyb20gJ0Bjb21wb25lbnRzL0xheW91dC9MYXlvdXQnXG5cbnR5cGUgWWVzT3JOb0FwaVJlc3BvbnNlID0ge1xuICBkYXRhOiAneWVzJyB8ICdubydcbn1cblxuY29uc3QgZmV0Y2hSZXN1bHQgPSBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKCdodHRwczovL3BsYXR6aS1hdm8udmVyY2VsLmFwcC9hcGkveWVzLW9yLW5vJylcbiAgY29uc3QgeyBkYXRhIH06IFllc09yTm9BcGlSZXNwb25zZSA9IGF3YWl0IHJlcy5qc29uKClcblxuICByZXR1cm4gZGF0YVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0U2VydmVyU2lkZVByb3BzKCkge1xuICBjb25zdCBpbml0aWFsUmVzdWx0ID0gYXdhaXQgZmV0Y2hSZXN1bHQoKVxuXG4gIHJldHVybiB7XG4gICAgcHJvcHM6IHtcbiAgICAgIGluaXRpYWxSZXN1bHQsXG4gICAgfSxcbiAgfVxufVxuXG5jb25zdCBZZXNPck5vID0gKHsgaW5pdGlhbFJlc3VsdCB9OiB7IGluaXRpYWxSZXN1bHQ6IHN0cmluZyB9KSA9PiB7XG4gIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW3Jlc3VsdCwgc2V0UmVzdWx0XSA9IHVzZVN0YXRlKGluaXRpYWxSZXN1bHQpXG4gIGNvbnN0IFt0cmlnZ2VyQ291bnQsIHNldFRyaWdnZXJDb3VudF0gPSB1c2VTdGF0ZSgwKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0SXNMb2FkaW5nKHRydWUpXG4gICAgZmV0Y2hSZXN1bHQoKS50aGVuKChpbml0aWFsUmVzdWx0KSA9PiB7XG4gICAgICBzZXRSZXN1bHQoaW5pdGlhbFJlc3VsdClcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSlcbiAgICB9KVxuICB9LCBbdHJpZ2dlckNvdW50XSlcblxuICBjb25zdCBvbkNsaWNrID0gYXN5bmMgKCkgPT4ge1xuICAgIHNldFRyaWdnZXJDb3VudCh0cmlnZ2VyQ291bnQgKyAxKVxuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8TGF5b3V0PlxuICAgICAgPGRpdj5cbiAgICAgICAgPEhlYWRlciBhcz1cImgxXCIgY29sb3I9e2lzTG9hZGluZyA/ICdncmV5JyA6ICdncmVlbid9PlxuICAgICAgICAgIHtyZXN1bHR9XG4gICAgICAgIDwvSGVhZGVyPlxuXG4gICAgICAgIDxwPlxuICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgIGNvbG9yPVwiZ3JlZW5cIlxuICAgICAgICAgICAgb25DbGljaz17b25DbGlja31cbiAgICAgICAgICAgIGxvYWRpbmc9e2lzTG9hZGluZ31cbiAgICAgICAgICAgIGRpc2FibGVkPXtpc0xvYWRpbmd9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgSW50ZW50YXIgZGUgbnVldm9cbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cD5cbiAgICAgICAgICA8TGluayBocmVmPVwiL1wiPlxuICAgICAgICAgICAgPGEgY2xhc3NOYW1lPVwidWkgYmxhY2sgYnV0dG9uIGJhc2ljXCI+Vm9sdmVyIGFsIGluaWNpbzwvYT5cbiAgICAgICAgICA8L0xpbms+XG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8c3R5bGUganN4PntgXG4gICAgICAgIGRpdiB7XG4gICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICB9XG4gICAgICAgIGRpdiA6Z2xvYmFsKGgxLmhlYWRlcikge1xuICAgICAgICAgIGZvbnQtc2l6ZTogN3JlbTtcbiAgICAgICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICAgICAgICB9XG4gICAgICBgfTwvc3R5bGU+XG4gICAgPC9MYXlvdXQ+XG4gIClcbn1cblxuZXhwb3J0IGRlZmF1bHQgWWVzT3JOb1xuIl19 */\\n/*@ sourceURL=/Users/amcereijo/Documents/git/platzi/next_js_ts/pages/yes-or-no.tsx */\"));\n};\n\n_s(YesOrNo, \"BusqtWRFFREYoKdpDUdeqVuaMck=\");\n\n_c = YesOrNo;\nexport var __N_SSP = true;\nexport default YesOrNo;\n\nvar _c;\n\n$RefreshReg$(_c, \"YesOrNo\");","map":{"version":3,"sources":["/Users/amcereijo/Documents/git/platzi/next_js_ts/pages/yes-or-no.tsx"],"names":["React","useState","useEffect","fetch","Link","Header","Button","Layout","fetchResult","res","json","data","YesOrNo","initialResult","isLoading","setIsLoading","result","setResult","triggerCount","setTriggerCount","then","onClick"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,oBAAlB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AAEA,SAASC,MAAT,EAAiBC,MAAjB,QAA+B,mBAA/B;AACA,OAAOC,MAAP,MAAmB,2BAAnB;;AAMA,IAAMC,WAAW;AAAA,sEAAG;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACAL,KAAK,CAAC,6CAAD,CADL;;AAAA;AACZM,YAAAA,GADY;AAAA;AAAA,mBAEyBA,GAAG,CAACC,IAAJ,EAFzB;;AAAA;AAAA;AAEVC,YAAAA,IAFU,mBAEVA,IAFU;AAAA,6CAIXA,IAJW;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAH;;AAAA,kBAAXH,WAAW;AAAA;AAAA;AAAA,GAAjB;;AAiBA,IAAMI,OAAO,GAAG,SAAVA,OAAU,QAAkD;AAAA;;AAAA,MAA/CC,aAA+C,SAA/CA,aAA+C;;AAAA,kBAC9BZ,QAAQ,CAAC,KAAD,CADsB;AAAA,MACzDa,SADyD;AAAA,MAC9CC,YAD8C;;AAAA,mBAEpCd,QAAQ,CAACY,aAAD,CAF4B;AAAA,MAEzDG,MAFyD;AAAA,MAEjDC,SAFiD;;AAAA,mBAGxBhB,QAAQ,CAAC,CAAD,CAHgB;AAAA,MAGzDiB,YAHyD;AAAA,MAG3CC,eAH2C;;AAKhEjB,EAAAA,SAAS,CAAC,YAAM;AACda,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACAP,IAAAA,WAAW,GAAGY,IAAd,CAAmB,UAACP,aAAD,EAAmB;AACpCI,MAAAA,SAAS,CAACJ,aAAD,CAAT;AACAE,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACD,KAHD;AAID,GANQ,EAMN,CAACG,YAAD,CANM,CAAT;;AAQA,MAAMG,OAAO;AAAA,yEAAG;AAAA;AAAA;AAAA;AAAA;AACdF,cAAAA,eAAe,CAACD,YAAY,GAAG,CAAhB,CAAf;;AADc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAPG,OAAO;AAAA;AAAA;AAAA,KAAb;;AAIA,SACE,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,MAAD;AAAQ,IAAA,EAAE,EAAC,IAAX;AAAgB,IAAA,KAAK,EAAEP,SAAS,GAAG,MAAH,GAAY,OAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGE,MADH,CADF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,MAAD;AACE,IAAA,KAAK,EAAC,OADR;AAEE,IAAA,OAAO,EAAEK,OAFX;AAGE,IAAA,OAAO,EAAEP,SAHX;AAIE,IAAA,QAAQ,EAAEA,SAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,CALF,EAeE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,IAAD;AAAM,IAAA,IAAI,EAAC,GAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA,wCAAa,uBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,CADF,CAfF,CADF;AAAA;AAAA;AAAA,6mGADF;AAmCD,CApDD;;GAAMF,O;;KAAAA,O;;AAsDN,eAAeA,OAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport fetch from 'isomorphic-unfetch'\nimport Link from 'next/link'\n\nimport { Header, Button } from 'semantic-ui-react'\nimport Layout from '@components/Layout/Layout'\n\ntype YesOrNoApiResponse = {\n  data: 'yes' | 'no'\n}\n\nconst fetchResult = async () => {\n  const res = await fetch('https://platzi-avo.vercel.app/api/yes-or-no')\n  const { data }: YesOrNoApiResponse = await res.json()\n\n  return data\n}\n\nexport async function getServerSideProps() {\n  const initialResult = await fetchResult()\n\n  return {\n    props: {\n      initialResult,\n    },\n  }\n}\n\nconst YesOrNo = ({ initialResult }: { initialResult: string }) => {\n  const [isLoading, setIsLoading] = useState(false)\n  const [result, setResult] = useState(initialResult)\n  const [triggerCount, setTriggerCount] = useState(0)\n\n  useEffect(() => {\n    setIsLoading(true)\n    fetchResult().then((initialResult) => {\n      setResult(initialResult)\n      setIsLoading(false)\n    })\n  }, [triggerCount])\n\n  const onClick = async () => {\n    setTriggerCount(triggerCount + 1)\n  }\n\n  return (\n    <Layout>\n      <div>\n        <Header as=\"h1\" color={isLoading ? 'grey' : 'green'}>\n          {result}\n        </Header>\n\n        <p>\n          <Button\n            color=\"green\"\n            onClick={onClick}\n            loading={isLoading}\n            disabled={isLoading}\n          >\n            Intentar de nuevo\n          </Button>\n        </p>\n        <p>\n          <Link href=\"/\">\n            <a className=\"ui black button basic\">Volver al inicio</a>\n          </Link>\n        </p>\n      </div>\n\n      <style jsx>{`\n        div {\n          text-align: center;\n        }\n        div :global(h1.header) {\n          font-size: 7rem;\n          text-transform: uppercase;\n        }\n      `}</style>\n    </Layout>\n  )\n}\n\nexport default YesOrNo\n"]},"metadata":{},"sourceType":"module"}